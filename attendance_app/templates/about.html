{% extends "layout.html" %}

{% block title %}
    Understanding the Math Behind the Results
{% endblock %}

{% block navAbout %}active{% endblock %}

{% block content %}
    <div class="container mt-5">
        <h2 class="text-center text-info mb-4">Understanding Attendance Calculations</h2>
    
        <!-- Formulas Section -->
        <section class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Core Formulas</h4>
                </div>
                <div class="card-body">
                    <h5>1. Current Attendance Percentage</h5>
                    <pre class="bg-light p-3 rounded">Current Attendance = (Present Classes / Total Classes) * 100</pre>
                    
                    <h5 class="mt-4">2. Daily Calculations During Holidays</h5>
                    <pre class="bg-light p-3 rounded">New Total Classes = Previous Total + Classes Per Day
New Attended Classes = Previous Attended + (Classes Per Day - Skipped Classes)
New Percentage = (New Attended Classes / New Total Classes) * 100</pre>
    
                    <h5 class="mt-4">3. Daily Decrease</h5>
                    <pre class="bg-light p-3 rounded">Decrease = Previous Percentage - New Percentage</pre>
                </div>
            </div>
        </section>
    
        <!-- Example Section -->
        <section class="mb-5">
            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">Practical Example</h4>
                </div>
                <div class="card-body">
                    <!-- Initial Values -->
                    <h5>Initial Values</h5>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li class="list-group-item">Total Classes: 392</li>
                                <li class="list-group-item">Present Classes: 318</li>
                                <li class="list-group-item">Classes Per Day: 7</li>
                                <li class="list-group-item">Holiday Days: 5</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <div class="alert alert-info">
                                Current Attendance = (318/392) * 100 = 81.12%
                            </div>
                        </div>
                    </div>

                    <!-- Holiday Schedule -->
                    <h5>Holiday Schedule</h5>
                    <ul class="list-group mb-4">
                        <li class="list-group-item">Day 1: 3 classes skipped</li>
                        <li class="list-group-item">Day 2: 7 classes skipped</li>
                        <li class="list-group-item">Day 3: 7 classes skipped</li>
                        <li class="list-group-item">Day 4: 7 classes skipped</li>
                        <li class="list-group-item">Day 5: 4 classes skipped</li>
                    </ul>

                    <!-- Day by Day Calculations -->
                    <div class="accordion mb-4" id="calculationAccordion">
                        <!-- Day 1 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#day1">
                                    Day 1 (3 Classes Skipped)
                                </button>
                            </h2>
                            <div id="day1" class="accordion-collapse collapse show">
                                <div class="accordion-body">
                                    <pre class="bg-light p-3 rounded">New Total = 392 + 7 = 399
New Attended = 318 + (7 - 3) = 322
New Percentage = (322/399) * 100 = 80.70%
Decrease = 81.12% - 80.70% = 0.42%</pre>
                                </div>
                            </div>
                        </div>

                        <!-- Day 2 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#day2">
                                    Day 2 (7 Classes Skipped)
                                </button>
                            </h2>
                            <div id="day2" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <pre class="bg-light p-3 rounded">New Total = 399 + 7 = 406
New Attended = 322 + (7 - 7) = 322
New Percentage = (322/406) * 100 = 79.31%
Decrease = 80.70% - 79.31% = 1.39%</pre>
                                </div>
                            </div>
                        </div>

                        <!-- Day 3 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#day3">
                                    Day 3 (7 Classes Skipped)
                                </button>
                            </h2>
                            <div id="day3" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <pre class="bg-light p-3 rounded">New Total = 406 + 7 = 413
New Attended = 322 + (7 - 7) = 322
New Percentage = (322/413) * 100 = 77.97%
Decrease = 79.31% - 77.97% = 1.34%</pre>
                                </div>
                            </div>
                        </div>

                        <!-- Day 4 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#day4">
                                    Day 4 (7 Classes Skipped)
                                </button>
                            </h2>
                            <div id="day4" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <pre class="bg-light p-3 rounded">New Total = 413 + 7 = 420
New Attended = 322 + (7 - 7) = 322
New Percentage = (322/420) * 100 = 76.67%
Decrease = 77.97% - 76.67% = 1.30%</pre>
                                </div>
                            </div>
                        </div>

                        <!-- Day 5 -->
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#day5">
                                    Day 5 (4 Classes Skipped)
                                </button>
                            </h2>
                            <div id="day5" class="accordion-collapse collapse">
                                <div class="accordion-body">
                                    <pre class="bg-light p-3 rounded">New Total = 420 + 7 = 427
New Attended = 322 + (7 - 4) = 325
New Percentage = (325/427) * 100 = 76.11%
Decrease = 76.67% - 76.11% = 0.56%</pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Final Results -->
                    <div class="card shadow-sm">
                        <div class="card-header bg-success text-white">
                            <h4 class="mb-0">Final Results</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="alert alert-info">
                                        <h5>Initial</h5>
                                        <p class="mb-0">81.12%</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="alert alert-warning">
                                        <h5>Final</h5>
                                        <p class="mb-0">76.11%</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="alert alert-danger">
                                        <h5>Total Decrease</h5>
                                        <p class="mb-0">5.01%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Conclusion Section -->
        <section class="mb-5">
            <h4 class="text-primary">Conclusion</h4>
            <p>
                Understanding the math behind the results helps you interpret the data more accurately. The decreased percentage gives you an idea of the magnitude of change, while the decrement per day helps you track daily fluctuations. With this knowledge, you can make more informed decisions based on the analysis.
            </p>
        </section>
    </div>
{% endblock %}